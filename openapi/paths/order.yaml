post:
  tags:
    - APIs
  summary: Tạo đơn hàng (v4.1 - latest)
  description: |
    Gửi yêu cầu tạo đơn đến Ninja Van thông qua API. Sau khi đơn hàng được tạo thành công, hệ thống sẽ trả về tất cả thông tin tương ứng của đơn hàng.
    
    Để tránh đơn bị trùng mã, hãy gửi kèm `requested_tracking_number` trong payload, hệ thống sẽ sử dụng trường này để sinh mã vận đơn.
    
    Nếu tài khoản đối tác được cấu hình *prefixless* (không chứa prefix) cho mã vận đơn thì trường `requested_tracking_number` là **bắt buộc**.
  operationId: order
  parameters:
    - name: Authorization
      in: header
      required: true
      schema:
        type: string
        example: Bearer <YOUR_ACCESS_TOKEN>
      description: Xác thực bằng cách gửi kèm mã `access_token` được trả về trong API tạo mã xác thực.
  responses:
    '200':
      description: Đơn hàng tạo thành công
      headers:
        x-nv-request-id:
          description: Mã tham chiếu request. Dùng để gửi kèm khi có thắc mắc đến Ninja Van devsupport.
          schema:
            type: string
            format: uuid
      content:
        application/json:
          schema:
            $ref: ../components/schemas/OrderResponse.yaml
    '401':
      description: Mã xác thực không hợp lệ
      headers:
        x-nv-request-id:
          description: Mã tham chiếu request. Dùng để gửi kèm khi có thắc mắc đến Ninja Van devsupport.
          schema:
            type: string
            format: uuid
    '400':
      description: Yêu cầu bị từ chối do tham số gửi lên không hợp lệ
      headers:
        x-nv-request-id:
          description: Mã tham chiếu request. Dùng để gửi kèm khi có thắc mắc đến Ninja Van devsupport.
          schema:
            type: string
            format: uuid
    '500':
      description: Tạo đơn hàng không thành công do lỗi từ server
      headers:
        x-nv-request-id:
          description: Mã tham chiếu request. Dùng để gửi kèm khi có thắc mắc đến Ninja Van devsupport.
          schema:
            type: string
            format: uuid
  requestBody:
    content:
      application/json:
        schema:
          $ref: ../components/schemas/Order.yaml
    required: true
